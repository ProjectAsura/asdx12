//-----------------------------------------------------------------------------
// File : asdxColorFilter.h
// Desc : Color Filter Pass.
// Copyright(c) Project Asura. All right reserved.
//-----------------------------------------------------------------------------
#pragma once

//-----------------------------------------------------------------------------
// Includes
//-----------------------------------------------------------------------------
#include <asdxPipelineState.h>
#include <asdxRootSignature.h>
#include <asdxConstantBuffer.h>


namespace asdx {

///////////////////////////////////////////////////////////////////////////////
// ColorFilter
///////////////////////////////////////////////////////////////////////////////
class ColorFilter
{
    //=========================================================================
    // list of friend classes and methods.
    //=========================================================================
    /* NOTHING */

public:
    ///////////////////////////////////////////////////////////////////////////
    // Param structure
    ///////////////////////////////////////////////////////////////////////////
    struct Param
    {
        bool    Enable;         //!< 有効フラグ.
        float   Brightness;     //!< 輝度.
        float   Saturation;     //!< 彩度.
        float   Contrast;       //!< コントラスト.
        float   Hue;            //!< 色相.
        float   SepiaTone;      //!< セピアトーン.
        float   GrayScale;      //!< グレースケール.
    };

    //=========================================================================
    // public variables.
    //=========================================================================
    /* NOTHING */

    //=========================================================================
    // public methods.
    //=========================================================================

    //-------------------------------------------------------------------------
    //! @brief      コンストラクタです.
    //-------------------------------------------------------------------------
    ColorFilter();

    //-------------------------------------------------------------------------
    //! @brief      デストラクタです.
    //-------------------------------------------------------------------------
    ~ColorFilter();

    //-------------------------------------------------------------------------
    //! @brief      初期化処理を行います.
    //-------------------------------------------------------------------------
    bool Init();

    //-------------------------------------------------------------------------
    //! @brief      終了処理を行います.
    //-------------------------------------------------------------------------
    void Term();

    //-------------------------------------------------------------------------
    //! @brief      パラメータを取得します.
    //-------------------------------------------------------------------------
    Param& GetParam();

    //-------------------------------------------------------------------------
    //! @brief      描画処理です.
    //! 
    //! @param[in]      pCmdList        コマンドリストです
    //! @param[in]      pUAV            出力先データです
    //! @param[in]      pSRV            入力データです.
    //-------------------------------------------------------------------------
    void Draw(
        ID3D12GraphicsCommandList6* pCmdList,
        IUnorderedAccessView*       pUAV,
        IShaderResourceView*        pSRV);

private:
    //=========================================================================
    // private variables.
    //=========================================================================
    PipelineState       m_PSO;
    RootSignature       m_RootSig;
    ConstantBuffer      m_CB;
    Param               m_Param;

    //=========================================================================
    // private methods.
    //=========================================================================
    /* NOTHING */
};

} // namespace asdx