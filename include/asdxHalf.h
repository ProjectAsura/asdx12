//-----------------------------------------------------------------------------
// File : asdxHalf.h
// Desc : Half Float.
// Copyright(c) Project Asura. All right reserved.
//-----------------------------------------------------------------------------
#pragma once

//-----------------------------------------------------------------------------
// Includes
//-----------------------------------------------------------------------------
#include <asdxMath.h>


namespace asdx {

//-----------------------------------------------------------------------------
// Using statements
//-----------------------------------------------------------------------------
using Half = uint16_t;

///////////////////////////////////////////////////////////////////////////////
// Half2 union
///////////////////////////////////////////////////////////////////////////////
union Half2 
{
    struct {
        Half x;
        Half y;
    };
    uint32_t u;
};

///////////////////////////////////////////////////////////////////////////////
// Half3 structure
///////////////////////////////////////////////////////////////////////////////
struct Half3
{
    half x;
    half y;
    half z;
};

///////////////////////////////////////////////////////////////////////////////
// Half4 union
///////////////////////////////////////////////////////////////////////////////
union Half4
{
    struct {
        Half x;
        Half y;
        Half z;
        Half w;
    };
    uint64_t u;
};

//-----------------------------------------------------------------------------
//! @brief      半精度浮動小数点形式に変換します.
//!
//! @param[in]      value       単精度浮動小数です.
//! @return     半精度浮動小数形式に変化した結果を返却します.
//-----------------------------------------------------------------------------
Half ToHalf(float value);

//-----------------------------------------------------------------------------
//! @brief      単精度浮動小数点形式に変換します.
//!
//! @param[in]      value       半精度浮動小数です.
//! @return     単精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
float ToFloat(Half value);

//-----------------------------------------------------------------------------
//! @brief      半精度浮動小数点形式に変換します.
//!
//! @param[in]      value       単精度浮動小数です.
//! @return     半精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
Half2 EncodeHalf2(const Vector2& value);

//-----------------------------------------------------------------------------
//! @brief      単精度浮動小数点形式に変換します.
//!
//! @param[in]      value       半精度浮動小数です.
//! @return     単精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
Vector2 DecodeHalf2(const Half2& value);

//-----------------------------------------------------------------------------
//! @brief      半精度浮動小数点形式に変換します.
//!
//! @param[in]      value       単精度浮動小数です.
//! @return     半精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
Half3 EncodeHalf3(const Vector3& value);

//-----------------------------------------------------------------------------
//! @brief      単精度浮動小数点形式に変換します.
//!
//! @param[in]      value       半精度浮動小数です.
//! @return     単精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
Vector3 DecodeHalf3(const Half3& value);

//-----------------------------------------------------------------------------
//! @brief      半精度浮動小数点形式に変換します.
//!
//! @param[in]      value       単精度浮動小数です.
//! @return     半精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
Half4 EncodeHalf4(const Vector4& value);

//-----------------------------------------------------------------------------
//! @brief      単精度浮動小数点形式に変換します.
//!
//! @param[in]      value       半精度浮動小数です.
//! @return     単精度浮動小数形式に変換した結果を返却します.
//-----------------------------------------------------------------------------
Vector4 DecodeHalf4(const Half4& value);

} // namespace asdx